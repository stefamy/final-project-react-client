{"ast":null,"code":"var _jsxFileName = \"/Users/Amy/Documents/neu/cs5610-webdev/wbdv-sp-20-astefani-final-project/wbdv-sp-20-astefani-final-project-client/src/components/SearchResultsComponent.js\";\nimport React from \"react\";\nimport RecipeResult from \"./RecipeResult\";\nimport { EDAMAM_API_KEY, EDAMAM_APP_ID } from \"../common/constants\";\nexport default class SearchResultsComponent extends React.Component {\n  createCORSRequest(method, url) {\n    let xhr = new XMLHttpRequest();\n\n    if (\"withCredentials\" in xhr) {\n      // XHR for Chrome/Firefox/Opera/Safari.\n      xhr.open(method, url, true);\n    } else {\n      // CORS not supported.\n      xhr = null;\n    }\n\n    return xhr;\n  } // Make the actual CORS request.\n\n\n  makeCorsRequest(queryText) {\n    const url = \"https://api.edamam.com/search?q=\" + queryText + \"&app_id=\" + EDAMAM_APP_ID + '&app_key=' + EDAMAM_API_KEY;\n    const xhr = this.createCORSRequest('GET', url);\n\n    if (!xhr) {\n      alert('CORS not supported');\n      return;\n    } // Response handlers.\n\n\n    xhr.onload = function () {\n      const text = xhr.responseText;\n      this.displayResults(JSON.parse(text));\n      console.table('results:', JSON.parse(text));\n    };\n\n    xhr.onerror = function () {\n      alert('Woops, there was an error making the request.');\n    };\n\n    xhr.setRequestHeader('Content-Type', 'application/json');\n    xhr.send(searchInput);\n  }\n\n  displayResults(jsonResponse) {\n    this.setState({\n      results: jsonResponse[\"hits\"]\n    });\n    const queryTerm = document.getElementById(\"queryTerm\");\n    const numResults = document.getElementById(\"numResults\");\n    const count = jsonResponse.count;\n    const term = jsonResponse.q;\n    queryTerm.innerHTML = 'Search results for: ' + term;\n    numResults.innerHTML = count + 'results' + count > 1 ? 's' : '';\n  }\n\n  componentDidMount() {\n    this.makeCorsRequest(this.props.queryText);\n  }\n\n  render() {\n    this.count = 0;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"nav nav-tabs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"query text = \", this.props.queryText), this.props.hits && this.props.hits.map(hit => React.createElement(RecipeResult, {\n      key: this.count++,\n      recipeData: hit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/Amy/Documents/neu/cs5610-webdev/wbdv-sp-20-astefani-final-project/wbdv-sp-20-astefani-final-project-client/src/components/SearchResultsComponent.js"],"names":["React","RecipeResult","EDAMAM_API_KEY","EDAMAM_APP_ID","SearchResultsComponent","Component","createCORSRequest","method","url","xhr","XMLHttpRequest","open","makeCorsRequest","queryText","alert","onload","text","responseText","displayResults","JSON","parse","console","table","onerror","setRequestHeader","send","searchInput","jsonResponse","setState","results","queryTerm","document","getElementById","numResults","count","term","q","innerHTML","componentDidMount","props","render","hits","map","hit"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport RecipeResult from \"./RecipeResult\";\nimport {EDAMAM_API_KEY, EDAMAM_APP_ID} from \"../common/constants\";\n\n\n\nexport default class SearchResultsComponent extends React.Component {\n\n  createCORSRequest(method, url) {\n    let xhr = new XMLHttpRequest();\n    if (\"withCredentials\" in xhr) {\n      // XHR for Chrome/Firefox/Opera/Safari.\n      xhr.open(method, url, true);\n    }\n    else {\n      // CORS not supported.\n      xhr = null;\n    }\n    return xhr;\n  }\n\n  // Make the actual CORS request.\n  makeCorsRequest(queryText) {\n\n    const url = \"https://api.edamam.com/search?q=\" + queryText + \"&app_id=\"\n        + EDAMAM_APP_ID + '&app_key=' + EDAMAM_API_KEY;\n\n    const xhr = this.createCORSRequest('GET', url);\n    if (!xhr) {\n      alert('CORS not supported');\n      return;\n    }\n\n    // Response handlers.\n    xhr.onload = function () {\n      const text = xhr.responseText;\n      this.displayResults(JSON.parse(text));\n      console.table('results:', JSON.parse(text));\n    };\n\n    xhr.onerror = function () {\n      alert('Woops, there was an error making the request.');\n    };\n\n\n    xhr.setRequestHeader('Content-Type', 'application/json');\n    xhr.send(searchInput);\n  }\n\n\n  displayResults(jsonResponse) {\n    this.setState({results: jsonResponse[\"hits\"]});\n\n    const queryTerm = document.getElementById(\"queryTerm\");\n    const numResults = document.getElementById(\"numResults\");\n\n    const count = jsonResponse.count;\n    const term = jsonResponse.q;\n    queryTerm.innerHTML = 'Search results for: ' + term;\n    numResults.innerHTML = count + 'results' + count > 1 ? 's' : '';\n  }\n\n  componentDidMount() {\n    this.makeCorsRequest(this.props.queryText);\n  }\n\n\n  render() {\n    this.count = 0;\n\n    return (\n        <div>\n          <ul className=\"nav nav-tabs\">\n            <li>query text = {this.props.queryText}</li>\n            {this.props.hits &&\n              this.props.hits.map(hit => (\n                  <RecipeResult\n                      key={this.count++}\n                      recipeData={hit}\n                  />\n              ))}\n          </ul>\n        </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}