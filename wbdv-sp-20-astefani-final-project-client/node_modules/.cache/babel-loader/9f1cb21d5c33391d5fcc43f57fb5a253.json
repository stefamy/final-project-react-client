{"ast":null,"code":"var _jsxFileName = \"/Users/Amy/Documents/neu/cs5610-webdev/wbdv-sp-20-astefani-final-project/wbdv-sp-20-astefani-final-project-client/src/components/SearchResultsComponent.js\";\nimport React from \"react\";\nimport RecipeResult from \"./RecipeResult\";\nimport { EDAMAM_API_KEY, EDAMAM_APP_ID } from \"../common/constants\";\nexport default class SearchResultsComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.results = '';\n    this.count = 0;\n  }\n\n  createCORSRequest(method, url) {\n    let xhr = new XMLHttpRequest();\n\n    if (\"withCredentials\" in xhr) {\n      // XHR for Chrome/Firefox/Opera/Safari.\n      xhr.open(method, url, true);\n    } else {\n      // CORS not supported.\n      xhr = null;\n    }\n\n    return xhr;\n  } // Make the actual CORS request.\n\n\n  makeCorsRequest(queryText) {\n    const url = \"https://api.edamam.com/search?q=\" + queryText + \"&app_id=\" + EDAMAM_APP_ID + '&app_key=' + EDAMAM_API_KEY;\n    const xhr = this.createCORSRequest('GET', url);\n\n    if (!xhr) {\n      alert('CORS not supported');\n      return;\n    }\n\n    const self = this; // Response handlers.\n\n    xhr.onload = function (self) {\n      const text = xhr.responseText;\n      const response = JSON.parse(text);\n      self.results = response.hits;\n      self.count = response.count;\n      console.table('results:', JSON.parse(text));\n    };\n\n    xhr.onerror = function () {\n      alert('Woops, there was an error making the request.');\n    };\n\n    xhr.setRequestHeader('Content-Type', 'application/json');\n    xhr.send(queryText);\n  } // displayResults(jsonResponse) {\n  //   self.setState({\n  //     results: jsonResponse.hits,\n  //     count: jsonResponse.count\n  //   });\n  //\n  // }\n\n\n  componentDidMount() {\n    this.makeCorsRequest(this.props.queryText);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Search term: \", this.props.queryText), React.createElement(\"ul\", {\n      className: \"nav nav-tabs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/Amy/Documents/neu/cs5610-webdev/wbdv-sp-20-astefani-final-project/wbdv-sp-20-astefani-final-project-client/src/components/SearchResultsComponent.js"],"names":["React","RecipeResult","EDAMAM_API_KEY","EDAMAM_APP_ID","SearchResultsComponent","Component","constructor","props","results","count","createCORSRequest","method","url","xhr","XMLHttpRequest","open","makeCorsRequest","queryText","alert","self","onload","text","responseText","response","JSON","parse","hits","console","table","onerror","setRequestHeader","send","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAAQC,cAAR,EAAwBC,aAAxB,QAA4C,qBAA5C;AAIA,eAAe,MAAMC,sBAAN,SAAqCJ,KAAK,CAACK,SAA3C,CAAqD;AAElEC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,OAAL,GAAe,EAAf;AACA,SAAKC,KAAL,GAAa,CAAb;AACD;;AAEDC,EAAAA,iBAAiB,CAACC,MAAD,EAASC,GAAT,EAAc;AAC7B,QAAIC,GAAG,GAAG,IAAIC,cAAJ,EAAV;;AACA,QAAI,qBAAqBD,GAAzB,EAA8B;AAC5B;AACAA,MAAAA,GAAG,CAACE,IAAJ,CAASJ,MAAT,EAAiBC,GAAjB,EAAsB,IAAtB;AACD,KAHD,MAIK;AACH;AACAC,MAAAA,GAAG,GAAG,IAAN;AACD;;AACD,WAAOA,GAAP;AACD,GAnBiE,CAqBlE;;;AACAG,EAAAA,eAAe,CAACC,SAAD,EAAY;AAEzB,UAAML,GAAG,GAAG,qCAAqCK,SAArC,GAAiD,UAAjD,GACNd,aADM,GACU,WADV,GACwBD,cADpC;AAGA,UAAMW,GAAG,GAAG,KAAKH,iBAAL,CAAuB,KAAvB,EAA8BE,GAA9B,CAAZ;;AACA,QAAI,CAACC,GAAL,EAAU;AACRK,MAAAA,KAAK,CAAC,oBAAD,CAAL;AACA;AACD;;AAED,UAAMC,IAAI,GAAG,IAAb,CAXyB,CAazB;;AACAN,IAAAA,GAAG,CAACO,MAAJ,GAAa,UAASD,IAAT,EAAe;AAC1B,YAAME,IAAI,GAAGR,GAAG,CAACS,YAAjB;AACA,YAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAjB;AACAF,MAAAA,IAAI,CAACX,OAAL,GAAee,QAAQ,CAACG,IAAxB;AACAP,MAAAA,IAAI,CAACV,KAAL,GAAac,QAAQ,CAACd,KAAtB;AACAkB,MAAAA,OAAO,CAACC,KAAR,CAAc,UAAd,EAA0BJ,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAA1B;AACD,KAND;;AAQAR,IAAAA,GAAG,CAACgB,OAAJ,GAAc,YAAY;AACxBX,MAAAA,KAAK,CAAC,+CAAD,CAAL;AACD,KAFD;;AAKAL,IAAAA,GAAG,CAACiB,gBAAJ,CAAqB,cAArB,EAAqC,kBAArC;AACAjB,IAAAA,GAAG,CAACkB,IAAJ,CAASd,SAAT;AAID,GAtDiE,CAwDlE;AACA;AACA;AACA;AACA;AACA;AACA;;;AAIAe,EAAAA,iBAAiB,GAAG;AAClB,SAAKhB,eAAL,CAAqB,KAAKT,KAAL,CAAWU,SAAhC;AACD;;AAGDgB,EAAAA,MAAM,GAAG;AACP,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAkB,KAAK1B,KAAL,CAAWU,SAA7B,CADF,EAII;AAAI,MAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADJ;AAgBD;;AAxFiE","sourcesContent":["import React from \"react\";\nimport RecipeResult from \"./RecipeResult\";\nimport {EDAMAM_API_KEY, EDAMAM_APP_ID} from \"../common/constants\";\n\n\n\nexport default class SearchResultsComponent extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.results = '';\n    this.count = 0;\n  }\n\n  createCORSRequest(method, url) {\n    let xhr = new XMLHttpRequest();\n    if (\"withCredentials\" in xhr) {\n      // XHR for Chrome/Firefox/Opera/Safari.\n      xhr.open(method, url, true);\n    }\n    else {\n      // CORS not supported.\n      xhr = null;\n    }\n    return xhr;\n  }\n\n  // Make the actual CORS request.\n  makeCorsRequest(queryText) {\n\n    const url = \"https://api.edamam.com/search?q=\" + queryText + \"&app_id=\"\n        + EDAMAM_APP_ID + '&app_key=' + EDAMAM_API_KEY;\n\n    const xhr = this.createCORSRequest('GET', url);\n    if (!xhr) {\n      alert('CORS not supported');\n      return;\n    }\n\n    const self = this;\n\n    // Response handlers.\n    xhr.onload = function(self) {\n      const text = xhr.responseText;\n      const response = JSON.parse(text);\n      self.results = response.hits;\n      self.count = response.count;\n      console.table('results:', JSON.parse(text));\n    };\n\n    xhr.onerror = function () {\n      alert('Woops, there was an error making the request.');\n    };\n\n\n    xhr.setRequestHeader('Content-Type', 'application/json');\n    xhr.send(queryText);\n\n\n\n  }\n\n  // displayResults(jsonResponse) {\n  //   self.setState({\n  //     results: jsonResponse.hits,\n  //     count: jsonResponse.count\n  //   });\n  //\n  // }\n\n\n\n  componentDidMount() {\n    this.makeCorsRequest(this.props.queryText);\n  }\n\n\n  render() {\n    return (\n        <div>\n          <h2>Search term: {this.props.queryText}</h2>\n          {/*<p>{this.state.count} results found.</p>*/}\n\n            <ul className=\"nav nav-tabs\">\n            {/*{this.state.results &&*/}\n            {/*  this.state.results.hits.map(hit, index => (*/}\n            {/*      <RecipeResult*/}\n            {/*          key={index}*/}\n            {/*          recipeData={hit}*/}\n            {/*      />*/}\n            {/*  ))}*/}\n          </ul>\n        </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}